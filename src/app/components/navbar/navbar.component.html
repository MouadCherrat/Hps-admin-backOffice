<nav class="fixed top-0 left-0 right-0 z-50 bg-white bg-opacity-90 backdrop-blur-sm transition-transform duration-300 ease-in-out"
    [ngClass]="{'transform -translate-y-full': isNavbarHidden}">
    <div class="w-full flex justify-center">
        <div class="container w-4/5 px-4">
            <div class="flex justify-between items-center py-4">
                <a href="#" class="flex items-center" (click)="selectOption('home')">
                    <img src="../../../assets/images/logo.png" class="h-12 w-auto mr-3" alt="Logo">
                    <span class="text-xl font-semibold">E-Commerce</span>
                </a>

                <button (click)="toggleNavbar()" class="lg:hidden">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16m-7 6h7">
                        </path>
                    </svg>
                </button>

                <div class="hidden lg:flex lg:items-center lg:w-auto"
                    [ngClass]="{'hidden': isMenuCollapsed, 'block': !isMenuCollapsed}">
                    <ul class="flex flex-col lg:flex-row lg:space-x-4">
                        <li><a routerLink="/" class="block py-2 hover:text-black"
                                [ngClass]="{'text-gray-500': selectedOption !== 'home', 'text-black': selectedOption === 'home'}"
                                (click)="navigateTo('/')">HOME</a></li>
                        <li><a routerLink="/" class="block py-2 hover:text-black"
                                [ngClass]="{'text-gray-500': selectedOption !== 'home', 'text-black': selectedOption === 'home'}"
                                (click)="navigateTo('/admin-info')">PROFILE</a></li>
                    </ul>
                </div>

                <div class="hidden lg:flex items-center space-x-4">
                    <form class="flex relative" (ngSubmit)="onSearch()">
                        <input type="search" [(ngModel)]="searchQuery" name="search" placeholder="Search"
                            (input)="onSearchInput()"
                            class="px-3 py-1 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-green-500">
                        <button type="submit"
                            class="px-4 py-1 bg-green-500 text-white rounded-r-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500">Search</button>

                        <!-- Dropdown for search results -->
                        <div *ngIf="searchResults.length > 0"
                            class="absolute top-full left-0 w-full bg-white shadow-lg rounded-b-md mt-1 z-50 max-h-60 overflow-y-auto">
                            <div *ngFor="let product of searchResults"
                                class="flex items-center p-2 hover:bg-gray-100 cursor-pointer">
                                <img [src]="product.imageUrl" [alt]="product.name" class="w-12 h-12 object-cover mr-2">
                                <div class="flex-grow">
                                    <div class="font-semibold">{{ product.name }}</div>
                                    <div class="text-sm text-gray-600">{{ product.price }}</div>
                                </div>
                            </div>
                        </div>
                    </form>
                    <a href="#" class="text-gray-600 hover:text-gray-900" (click)="logout()"> Log out</a>
                </div>
            </div>
        </div>
    </div>
</nav>